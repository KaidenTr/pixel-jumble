{"ast":null,"code":"var _jsxFileName = \"F:\\\\PIxel Album\\\\client\\\\src\\\\PixelatedImage.js\",\n  _s = $RefreshSig$();\n// /client/src/PixelatedImage.js\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PixelatedImage = ({\n  imageUrl,\n  pixelationLevel\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.crossOrigin = 'Anonymous'; // Important for loading images from another domain\n    img.src = imageUrl;\n    img.onload = () => {\n      // 1. Calculate aspect ratio\n      const aspectRatio = img.width / img.height;\n      const canvasWidth = 300;\n      const canvasHeight = 300 / aspectRatio;\n      canvas.width = canvasWidth;\n      canvas.height = canvasHeight;\n      const w = canvas.width / pixelationLevel;\n      const h = canvas.height / pixelationLevel;\n\n      // 2. Turn off image smoothing to get the sharp pixel effect\n      ctx.imageSmoothingEnabled = false;\n\n      // 3. Draw the small, pixelated version\n      ctx.drawImage(img, 0, 0, w, h);\n\n      // 4. Scale it up to fill the canvas\n      ctx.drawImage(canvas, 0, 0, w, h, 0, 0, canvas.width, canvas.height);\n    };\n  }, [imageUrl, pixelationLevel]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 10\n  }, this);\n};\n_s(PixelatedImage, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = PixelatedImage;\nexport default PixelatedImage;\nvar _c;\n$RefreshReg$(_c, \"PixelatedImage\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","PixelatedImage","imageUrl","pixelationLevel","_s","canvasRef","canvas","current","ctx","getContext","img","Image","crossOrigin","src","onload","aspectRatio","width","height","canvasWidth","canvasHeight","w","h","imageSmoothingEnabled","drawImage","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["F:/PIxel Album/client/src/PixelatedImage.js"],"sourcesContent":["// /client/src/PixelatedImage.js\r\nimport React, { useRef, useEffect } from 'react';\r\n\r\nconst PixelatedImage = ({ imageUrl, pixelationLevel }) => {\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n    img.crossOrigin = 'Anonymous'; // Important for loading images from another domain\r\n    img.src = imageUrl;\r\n\r\n    img.onload = () => {\r\n      // 1. Calculate aspect ratio\r\n      const aspectRatio = img.width / img.height;\r\n      const canvasWidth = 300;\r\n      const canvasHeight = 300 / aspectRatio;\r\n      canvas.width = canvasWidth;\r\n      canvas.height = canvasHeight;\r\n      \r\n      const w = canvas.width / pixelationLevel;\r\n      const h = canvas.height / pixelationLevel;\r\n\r\n      // 2. Turn off image smoothing to get the sharp pixel effect\r\n      ctx.imageSmoothingEnabled = false;\r\n\r\n      // 3. Draw the small, pixelated version\r\n      ctx.drawImage(img, 0, 0, w, h);\r\n\r\n      // 4. Scale it up to fill the canvas\r\n      ctx.drawImage(canvas, 0, 0, w, h, 0, 0, canvas.width, canvas.height);\r\n    };\r\n  }, [imageUrl, pixelationLevel]);\r\n\r\n  return <canvas ref={canvasRef} />;\r\n};\r\n\r\nexport default PixelatedImage;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,cAAc,GAAGA,CAAC;EAAEC,QAAQ;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EACxD,MAAMC,SAAS,GAAGR,MAAM,CAAC,IAAI,CAAC;EAE9BC,SAAS,CAAC,MAAM;IACd,MAAMQ,MAAM,GAAGD,SAAS,CAACE,OAAO;IAChC,MAAMC,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IACnC,MAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;IACvBD,GAAG,CAACE,WAAW,GAAG,WAAW,CAAC,CAAC;IAC/BF,GAAG,CAACG,GAAG,GAAGX,QAAQ;IAElBQ,GAAG,CAACI,MAAM,GAAG,MAAM;MACjB;MACA,MAAMC,WAAW,GAAGL,GAAG,CAACM,KAAK,GAAGN,GAAG,CAACO,MAAM;MAC1C,MAAMC,WAAW,GAAG,GAAG;MACvB,MAAMC,YAAY,GAAG,GAAG,GAAGJ,WAAW;MACtCT,MAAM,CAACU,KAAK,GAAGE,WAAW;MAC1BZ,MAAM,CAACW,MAAM,GAAGE,YAAY;MAE5B,MAAMC,CAAC,GAAGd,MAAM,CAACU,KAAK,GAAGb,eAAe;MACxC,MAAMkB,CAAC,GAAGf,MAAM,CAACW,MAAM,GAAGd,eAAe;;MAEzC;MACAK,GAAG,CAACc,qBAAqB,GAAG,KAAK;;MAEjC;MACAd,GAAG,CAACe,SAAS,CAACb,GAAG,EAAE,CAAC,EAAE,CAAC,EAAEU,CAAC,EAAEC,CAAC,CAAC;;MAE9B;MACAb,GAAG,CAACe,SAAS,CAACjB,MAAM,EAAE,CAAC,EAAE,CAAC,EAAEc,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAEf,MAAM,CAACU,KAAK,EAAEV,MAAM,CAACW,MAAM,CAAC;IACtE,CAAC;EACH,CAAC,EAAE,CAACf,QAAQ,EAAEC,eAAe,CAAC,CAAC;EAE/B,oBAAOH,OAAA;IAAQwB,GAAG,EAAEnB;EAAU;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACnC,CAAC;AAACxB,EAAA,CAjCIH,cAAc;AAAA4B,EAAA,GAAd5B,cAAc;AAmCpB,eAAeA,cAAc;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}