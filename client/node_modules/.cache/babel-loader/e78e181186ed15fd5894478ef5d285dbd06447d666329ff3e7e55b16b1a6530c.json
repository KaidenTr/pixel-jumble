{"ast":null,"code":"var _jsxFileName = \"F:\\\\Pixel Album\\\\client\\\\src\\\\PixelatedImage.js\",\n  _s = $RefreshSig$();\n// /client/src/PixelatedImage.js\n\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PixelatedImage = ({\n  imageUrl,\n  pixelationLevel\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    if (!imageUrl) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.crossOrigin = 'Anonymous';\n    img.src = imageUrl;\n    img.onload = () => {\n      const aspectRatio = img.width / img.height;\n      const canvasWidth = 300;\n      const canvasHeight = 300 / aspectRatio;\n      canvas.width = canvasWidth;\n      canvas.height = canvasHeight;\n      const w = canvas.width / pixelationLevel;\n      const h = canvas.height / pixelationLevel;\n      ctx.imageSmoothingEnabled = true;\n      ctx.mozImageSmoothingEnabled = true;\n      ctx.webkitImageSmoothingEnabled = true;\n      ctx.msImageSmoothingEnabled = true;\n      ctx.drawImage(img, 0, 0, w, h);\n      ctx.drawImage(canvas, 0, 0, w, h, 0, 0, canvas.width, canvas.height);\n    };\n    img.onerror = () => {\n      console.error(\"Failed to load image for pixelation.\");\n      ctx.fillStyle = '#222';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      ctx.fillStyle = 'white';\n      ctx.textAlign = 'center';\n      ctx.fillText('Image not found', canvas.width / 2, canvas.height / 2);\n    };\n  }, [imageUrl, pixelationLevel]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 10\n  }, this);\n};\n_s(PixelatedImage, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = PixelatedImage;\nexport default PixelatedImage;\nvar _c;\n$RefreshReg$(_c, \"PixelatedImage\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","PixelatedImage","imageUrl","pixelationLevel","_s","canvasRef","canvas","current","ctx","getContext","img","Image","crossOrigin","src","onload","aspectRatio","width","height","canvasWidth","canvasHeight","w","h","imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled","drawImage","onerror","console","error","fillStyle","fillRect","textAlign","fillText","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["F:/Pixel Album/client/src/PixelatedImage.js"],"sourcesContent":["// /client/src/PixelatedImage.js\r\n\r\nimport React, { useRef, useEffect } from 'react';\r\n\r\nconst PixelatedImage = ({ imageUrl, pixelationLevel }) => {\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!imageUrl) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n    img.crossOrigin = 'Anonymous';\r\n    img.src = imageUrl;\r\n\r\n    img.onload = () => {\r\n      const aspectRatio = img.width / img.height;\r\n      const canvasWidth = 300;\r\n      const canvasHeight = 300 / aspectRatio;\r\n      canvas.width = canvasWidth;\r\n      canvas.height = canvasHeight;\r\n      \r\n      const w = canvas.width / pixelationLevel;\r\n      const h = canvas.height / pixelationLevel;\r\n\r\n      ctx.imageSmoothingEnabled = true;\r\n      ctx.mozImageSmoothingEnabled = true;\r\n      ctx.webkitImageSmoothingEnabled = true;\r\n      ctx.msImageSmoothingEnabled = true;\r\n\r\n      ctx.drawImage(img, 0, 0, w, h);\r\n\r\n\r\n      ctx.drawImage(canvas, 0, 0, w, h, 0, 0, canvas.width, canvas.height);\r\n    };\r\n    \r\n\r\n    img.onerror = () => {\r\n        console.error(\"Failed to load image for pixelation.\");\r\n        ctx.fillStyle = '#222';\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        ctx.fillStyle = 'white';\r\n        ctx.textAlign = 'center';\r\n        ctx.fillText('Image not found', canvas.width / 2, canvas.height / 2);\r\n    }\r\n\r\n  }, [imageUrl, pixelationLevel]);\r\n\r\n  return <canvas ref={canvasRef} />;\r\n};\r\n\r\nexport default PixelatedImage;"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,cAAc,GAAGA,CAAC;EAAEC,QAAQ;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EACxD,MAAMC,SAAS,GAAGR,MAAM,CAAC,IAAI,CAAC;EAE9BC,SAAS,CAAC,MAAM;IACd,IAAI,CAACI,QAAQ,EAAE;IAEf,MAAMI,MAAM,GAAGD,SAAS,CAACE,OAAO;IAChC,MAAMC,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IACnC,MAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;IACvBD,GAAG,CAACE,WAAW,GAAG,WAAW;IAC7BF,GAAG,CAACG,GAAG,GAAGX,QAAQ;IAElBQ,GAAG,CAACI,MAAM,GAAG,MAAM;MACjB,MAAMC,WAAW,GAAGL,GAAG,CAACM,KAAK,GAAGN,GAAG,CAACO,MAAM;MAC1C,MAAMC,WAAW,GAAG,GAAG;MACvB,MAAMC,YAAY,GAAG,GAAG,GAAGJ,WAAW;MACtCT,MAAM,CAACU,KAAK,GAAGE,WAAW;MAC1BZ,MAAM,CAACW,MAAM,GAAGE,YAAY;MAE5B,MAAMC,CAAC,GAAGd,MAAM,CAACU,KAAK,GAAGb,eAAe;MACxC,MAAMkB,CAAC,GAAGf,MAAM,CAACW,MAAM,GAAGd,eAAe;MAEzCK,GAAG,CAACc,qBAAqB,GAAG,IAAI;MAChCd,GAAG,CAACe,wBAAwB,GAAG,IAAI;MACnCf,GAAG,CAACgB,2BAA2B,GAAG,IAAI;MACtChB,GAAG,CAACiB,uBAAuB,GAAG,IAAI;MAElCjB,GAAG,CAACkB,SAAS,CAAChB,GAAG,EAAE,CAAC,EAAE,CAAC,EAAEU,CAAC,EAAEC,CAAC,CAAC;MAG9Bb,GAAG,CAACkB,SAAS,CAACpB,MAAM,EAAE,CAAC,EAAE,CAAC,EAAEc,CAAC,EAAEC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAEf,MAAM,CAACU,KAAK,EAAEV,MAAM,CAACW,MAAM,CAAC;IACtE,CAAC;IAGDP,GAAG,CAACiB,OAAO,GAAG,MAAM;MAChBC,OAAO,CAACC,KAAK,CAAC,sCAAsC,CAAC;MACrDrB,GAAG,CAACsB,SAAS,GAAG,MAAM;MACtBtB,GAAG,CAACuB,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAEzB,MAAM,CAACU,KAAK,EAAEV,MAAM,CAACW,MAAM,CAAC;MAC/CT,GAAG,CAACsB,SAAS,GAAG,OAAO;MACvBtB,GAAG,CAACwB,SAAS,GAAG,QAAQ;MACxBxB,GAAG,CAACyB,QAAQ,CAAC,iBAAiB,EAAE3B,MAAM,CAACU,KAAK,GAAG,CAAC,EAAEV,MAAM,CAACW,MAAM,GAAG,CAAC,CAAC;IACxE,CAAC;EAEH,CAAC,EAAE,CAACf,QAAQ,EAAEC,eAAe,CAAC,CAAC;EAE/B,oBAAOH,OAAA;IAAQkC,GAAG,EAAE7B;EAAU;IAAA8B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACnC,CAAC;AAAClC,EAAA,CA9CIH,cAAc;AAAAsC,EAAA,GAAdtC,cAAc;AAgDpB,eAAeA,cAAc;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}